(this.webpackJsonp=this.webpackJsonp||[]).push([[11],{1207:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(25),l=a(43),s=a(404),c=a(121),i=a(80);t.a=function(e){var t=Object(l.a)(),a=t.textMedium,n=t.textLight,u=t.placeholder,m=Object(s.a)(e.url||"","","_blank"),d=e.disabled?"N/A":e.text?e.text+(e.suffix?" "+e.suffix:""):"Fetching\u2026";return r.a.createElement(c.a,{style:{justifyContent:"space-between",marginTop:4}},r.a.createElement(i.a,{note:!o.d,fontWeight:"bold",style:{color:e.disabled?u:a}},e.label),r.a.createElement(i.a,{note:!o.d,onPress:e.url?m:void 0,style:{color:e.disabled?u:e.text?a:n,textDecorationLine:e.url?"underline":"none"}},d))}},1354:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),o=a(18),l=a.n(o),s=a(0),c=a.n(s),i=a(11),u=a(4),m=a(1202),d=a(25),b=a(57),f=a(59),k=a(316),E=function(e){var t,a=Object(f.a)(),n=Object(s.useContext)(b.b).approveToken,o=Object(s.useState)(!1),i=l()(o,2),m=i[0],E=i[1],x=Object(s.useCallback)((function(){var t;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e.token){a.next=19;break}return e.onError({}),E(!0),a.prev=3,a.next=6,r.a.awrap(n(e.token.address,e.spender));case 6:if(!(t=a.sent)){a.next=11;break}return a.next=10,r.a.awrap(t.wait());case 10:e.onSuccess();case 11:a.next=16;break;case 13:a.prev=13,a.t0=a.catch(3),e.onError(a.t0);case 16:return a.prev=16,E(!1),a.finish(16);case 19:case"end":return a.stop()}}),null,null,[[3,13,16,19]],Promise)}),[e.token]);return e.hidden?c.a.createElement(u.a,null):c.a.createElement(k.a,{title:a("approve")+" "+((null==(t=e.token)?void 0:t.symbol)||""),onPress:x,loading:m,containerStyle:{marginBottom:d.g.tiny}})},x=a(409),v=a(1196),g=a(405),h=a(406),y=a(1199),p=a(1203),S=a(1197),T=a(1200),j=a(1204),O=a(1207),F=a(1205),w=a(80),N=a(408),U=a(1206),A=a(1191),C=a(412),P=a(53),B=a(1343),Z=a(21),L=a(410),z=a(43),D=a(31),J=function(){var e,t=Object(f.a)(),a=Object(B.a)();return c.a.createElement(u.a,{style:{marginTop:d.g.large}},c.a.createElement(H,{state:a}),c.a.createElement(v.a,null),c.a.createElement(M,{state:a}),a.stoken&&(null==(e=a.yourTotalSToken)?void 0:e.isZero())&&c.a.createElement(F.a,{text:t("you-dont-have-btcst"),color:"orange",style:{marginTop:d.g.small}}),c.a.createElement(W,{state:a}))},H=function(e){var t=e.state,a=Object(f.a)(),n=t.loading,r=t.yourTotalSToken,o=t.yourFreeToSendSToken,l=t.yourSTokenStaked,s=(t.stokenAllowed,Object(z.a)()),i=s.textDark,m=s.textLight;s.placeholder;return c.a.createElement(u.a,null,c.a.createElement(w.a,{style:{fontSize:d.d?28:20,marginBottom:d.g.tiny,color:n?m:i}},!n&&t.stoken&&r?a("you-have")+" "+Object(Z.c)(r,t.stoken.decimals)+" BTCST":a("fetching")),c.a.createElement(w.a,{style:{fontSize:d.d?14:10,marginBottom:d.g.tiny,color:n?m:i}},!n&&t.stoken&&r?a("free-to-send")+Object(Z.c)(o,t.stoken.decimals)+" "+a("staked-in-pool")+Object(Z.c)(l,t.stoken.decimals):""))},M=function(e){var t=e.state,a=Object(f.a)();return!t.stoken||t.yourTotalSToken.isZero()?c.a.createElement(S.a,{text:a("amount-to-stake"),disabled:!0}):c.a.createElement(u.a,null,c.a.createElement(S.a,{text:a("amount-to-stake")}),c.a.createElement(U.a,{token:t.stoken,amount:t.amount,onAmountChanged:t.setAmount,autoFocus:d.d}))},W=function(e){var t=e.state,a=Object(f.a)(),n=!t.stoken||t.yourTotalSToken.isZero()||!t.yourSTokenStaked||Object(Z.g)(t.amount),r=D.ethers.FixedNumber.from(58).divUnsafe(D.ethers.FixedNumber.from(1e6)),o=D.ethers.FixedNumber.from(60).mulUnsafe(D.ethers.FixedNumber.from(24)),l=D.ethers.FixedNumber.from(711).divUnsafe(D.ethers.FixedNumber.from(1e8)),s=D.ethers.FixedNumber.from(22715),i=l.subUnsafe(o.mulUnsafe(r).divUnsafe(s));console.log(i.toString()+" dailyBTCNetrewardPerHashUnit");var u=n?void 0:D.ethers.FixedNumber.from(t.amount).mulUnsafe(i).divUnsafe(D.ethers.FixedNumber.from(10)),d=n?void 0:D.ethers.FixedNumber.from(Object(Z.c)(t.yourSTokenStaked,t.stoken.decimals)).mulUnsafe(i).divUnsafe(D.ethers.FixedNumber.from(10)),b=n||null==u?void 0:u.addUnsafe(d),k=n?void 0:D.ethers.FixedNumber.fromString(Object(Z.c)(t.totalSTokenSupply,t.stoken.decimals)).divUnsafe(D.ethers.FixedNumber.from(10)).mulUnsafe(i),E=(n||Object(Z.i)(t.amount,t.stoken.decimals).add(t.yourSTokenStaked),n?void 0:b.divUnsafe(k).mulUnsafe(D.ethers.FixedNumber.from(100)).round(6));return c.a.createElement(T.a,null,c.a.createElement(m.a,{amount:b?b.round(8).toString():"",suffix:a("btcb-estimated"),disabled:n}),c.a.createElement(O.a,{label:a("daily-share"),text:E,suffix:"%",disabled:n}),c.a.createElement(O.a,{label:a("total-daily-reward"),text:null==k?void 0:k.toString(),disabled:n}),c.a.createElement(_,{state:t}))},_=function(e){var t=e.state,a=Object(s.useState)({}),n=l()(a,2),r=n[0],o=n[1];return c.a.createElement(u.a,{style:{marginTop:d.g.normal}},!t.stoken||t.yourTotalSToken.isZero()||Object(Z.g)(t.amount)?c.a.createElement(q,{state:t,onError:o,disabled:!0}):Object(Z.i)(t.amount,t.stoken.decimals).gt(t.yourTotalSToken)?c.a.createElement(j.a,{symbol:t.stoken.symbol}):t.loading?c.a.createElement(p.a,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(E,{token:t.stoken,spender:P.c,onSuccess:function(){return t.setSTokenAllowed(!0)},onError:o,hidden:t.stokenAllowed}),c.a.createElement(q,{state:t,onError:o,disabled:!t.stokenAllowed})),r.message&&4001!==r.code&&c.a.createElement(y.a,{error:r}))},q=function(e){var t=e.state,a=e.onError,n=e.disabled,o=Object(f.a)();return c.a.createElement(k.a,{title:o("stake"),loading:t.entering,onPress:function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return a({}),e.prev=1,e.next=4,r.a.awrap(t.onEnter());case 4:t.setAmount(""),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a(e.t0);case 10:case"end":return e.stop()}}),null,null,[[1,7]],Promise)},disabled:n})};t.default=function(){var e=Object(f.a)();return c.a.createElement(L.a,null,c.a.createElement(g.a,null,c.a.createElement(x.a,null),c.a.createElement(h.a,null,c.a.createElement(N.a,{text:e("stake")}),c.a.createElement(w.a,{light:!0},e("stake-desc")),c.a.createElement(J,null)),"web"===i.a.OS&&c.a.createElement(A.a,null)),c.a.createElement(C.b,null))}}}]);
//# sourceMappingURL=11.947669d9.chunk.js.map